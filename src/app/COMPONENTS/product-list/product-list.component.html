



<mat-card class="mat-elevation-z4 p-4">
  <h2 class="mat-headline mb-3">Product List</h2>

  <div class="table-container">
    <table mat-table [dataSource]="products" class="mat-elevation-z2 mat-table-styled">

      <!-- ... your existing column definitions ... -->
           <!-- Title -->
    <ng-container matColumnDef="title">
      <th mat-header-cell *matHeaderCellDef> Title </th>
      <td mat-cell *matCellDef="let product"> {{ product.title }} </td>
    </ng-container>

    <!-- Brand -->
    <ng-container matColumnDef="brand">
      <th mat-header-cell *matHeaderCellDef> Brand </th>
      <td mat-cell *matCellDef="let product"> {{ product.brand }} </td>
    </ng-container>

    <!-- Category -->
    <ng-container matColumnDef="category">
      <th mat-header-cell *matHeaderCellDef> Category </th>
      <td mat-cell *matCellDef="let product"> {{ product.category }} </td>
    </ng-container>

    <!-- Price -->
    <ng-container matColumnDef="price">
      <th mat-header-cell *matHeaderCellDef> Price </th>
      <td mat-cell *matCellDef="let product"> â‚¹{{ product.price }} </td>
    </ng-container>

    <!-- Discount -->
    <ng-container matColumnDef="discount">
      <th mat-header-cell *matHeaderCellDef> Discount (%) </th>
      <td mat-cell *matCellDef="let product"> {{ product.discount }} </td>
    </ng-container>

    <!-- Stock -->
    <ng-container matColumnDef="stock">
      <th mat-header-cell *matHeaderCellDef> Stock </th>
      <td mat-cell *matCellDef="let product"> {{ product.stock }} </td>
    </ng-container>


    <!-- Image -->
    <ng-container matColumnDef="image">
      <th mat-header-cell *matHeaderCellDef> Image </th>
      <td mat-cell *matCellDef="let product">
        <img *ngIf="product.images.length"
             [src]="'http://localhost:3000/' + product.images[0].src"
             [alt]="product.images[0].alt"
             width="60" height="60" />
      </td>
    </ng-container>


<!-- Actions Column -->
<ng-container matColumnDef="actions">
  <th mat-header-cell *matHeaderCellDef> Actions </th>
  <td mat-cell *matCellDef="let product">
    <mat-icon
      [matMenuTriggerFor]="actionMenu"
      class="action-icon menu-icon "
      fontIcon="more_vert"
      aria-label="Open menu" style=" cursor: pointer;">
    </mat-icon>

    <mat-menu #actionMenu="matMenu" >
      <button mat-menu-item (click)="viewProduct(product)">
        <mat-icon fontIcon="visibility" color="primary"></mat-icon>
        <span>View</span>
      </button>
      <button mat-menu-item (click)="editProduct(product)">
        <mat-icon fontIcon="edit" color="accent"></mat-icon>
        <span>Edit</span>
      </button>
      <button mat-menu-item (click)="deleteProduct(product._id)">
        <mat-icon fontIcon="delete" color="warn"></mat-icon>
        <span>Delete</span>
      </button>
    </mat-menu>
  </td>
</ng-container>


      <!-- Header and Row Definitions -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
</mat-card>
